(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{32:function(e,t,a){},44:function(e,t,a){},5341:function(e,t,a){e.exports=a(5540)},5359:function(e,t,a){},5534:function(e,t,a){},5540:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),c=a(23),r=a.n(c),l=a(16),i=a(17),s=a(19),u=a(18),m=a(20),d=a(5542),p=a(5543),h=(a(32),a(31)),v=a(53),b=a.n(v),f=a(123),E=a.n(f),g=(a(5359),function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).handleMessageReceived=function(e){var t=e.message;if("gotoinvision"===t)window.location="https://invis.io/3RQGIJF2H5C#/346229432_S1/";else{var n=JSON.parse(t).url;a.setState({url:""}),a.setState({url:n})}},a.handleError=function(e){"PNUnknownCategory"===e.category&&console.log(e.errorData.message)},a.pubnub=new b.a({subscribeKey:"sub-c-634d2abe-28df-11e9-991a-bee2ac9fced0"}),a.pubnub.init(Object(h.a)(Object(h.a)(a))),a.state={url:""},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentWillMount",value:function(){this.pubnub.subscribe({channels:["default"],withPresence:!0}),this.pubnub.addListener({status:this.handleError,message:this.handleMessageReceived})}},{key:"componentWillUnmount",value:function(){this.pubnub.unsubscribe({channels:["default"]})}},{key:"render",value:function(){return o.a.createElement("div",{className:"container"},o.a.createElement("div",{className:"hero"}),o.a.createElement("div",{className:"speechOut"}),o.a.createElement(E.a,{src:this.state.url,autoPlay:!0}))}}]),t}(n.Component)),y=a(40),S=a.n(y),O=a(34),N=a.n(O),j=a(75),k=a.n(j),w=a(74),C=a.n(w),x=a(76),W=a.n(x),F=a(55),T=a.n(F),B=a(35),M=a.n(B),U=a(126),D=a.n(U),I=a(30),A=a.n(I),J=a(26),R=a(124),P=a.n(R),H=(a(44),a(54)),K=a.n(H),L=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).getText=function(){return a.state.text},a.handleChanged=function(e){a.setState({text:e.target.value})},a.state={text:""},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return o.a.createElement(K.a,{onChange:this.handleChanged,label:"text"})}}]),t}(n.Component),V=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).getText=function(){for(var e="",t=a.props.data,n=0;n<t.length;n++){var o=t[n];if("%input%"===o)e+=a.refs[String(n)].getText();else e+=o;e+=" "}return e},a.handleClick=function(){var e=a.getText();a.props.onSend(e)},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"viewsForData",value:function(e){for(var t=[],a=0;a<e.length;a++){var n=e[a];"%input%"===n?t.push(o.a.createElement("div",{className:"input",key:a},o.a.createElement(L,{ref:String(a)}))):t.push(o.a.createElement("h4",{id:String(a),key:a},n))}return t}},{key:"render",value:function(){return o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"section"},this.viewsForData(this.props.data)),null==this.props.onSend?null:o.a.createElement("div",{className:"buttons"},o.a.createElement(A.a,{className:"iconButton",color:"primary",variant:"contained",onClick:this.handleClick},o.a.createElement(J.c,null))))}}]),t}(n.Component),G=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).addField=function(){var e=a.state.protoSections;e.push("text"),a.setState({protoSections:e})},a.addLabel=function(){var e=a.state.protoSections;e.push("%input%"),a.setState({protoSections:e})},a.state={protoSections:["text"]},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"viewsForData",value:function(){for(var e=[],t=0;t<this.state.protoSections.length;t++){"text"===this.state.protoSections[t]?e.push(o.a.createElement("div",{className:"input",key:t},o.a.createElement(L,{ref:String(t)}))):e.push(o.a.createElement(K.a,{disabled:!0,key:t,label:"wildcard",variant:"outlined",margin:"normal"}))}return e}},{key:"getSections",value:function(){for(var e=[],t=0;t<this.state.protoSections.length;t++){var a=this.state.protoSections[t];"text"===a?e.push(this.refs[String(t)].getText()):e.push(a)}return e}},{key:"render",value:function(){return o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"section"},this.viewsForData()),o.a.createElement("div",{className:"buttons"},o.a.createElement(A.a,{onClick:this.addField,className:"iconButton",variant:"contained",color:"primary"},o.a.createElement(J.g,null)),o.a.createElement(A.a,{onClick:this.addLabel,className:"iconButton",variant:"contained",color:"primary"},o.a.createElement(J.a,null))))}}]),t}(n.Component),Q=[["Hi","%input%","how's your day so far?"],["What would you like to talk about in particular?"],["What's going on today?"],["Can you tell me more about that?"]],$="https://puppet-230708.appspot.com",_=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).sendText=function(e){P.a.post($+"/broadcast",{text:e,voice:a.state.voice}).catch(function(e){console.log(e)})},a.handleFileImport=function(e){e.stopPropagation(),e.preventDefault();var t=e.target.files[0],n=new FileReader;n.onload=function(e){var t=JSON.parse(e.target.result),n=a.state.customSections;a.setState({customSections:n.concat(t)})},n.readAsText(t)},a.import=function(){a.upload.click()},a.export=function(){var e=JSON.stringify(a.state.customSections),t="data:text/json;charset=utf-8,"+encodeURIComponent(e),n=document.createElement("a");n.setAttribute("href",t),n.setAttribute("download","puppet-responses.json"),document.body.appendChild(n),n.click(),n.remove()},a.openModal=function(){a.setState({modalOpen:!0})},a.closeModal=function(){a.setState({modalOpen:!1})},a.saveSection=function(){var e=a.state.customSections,t=a.builder.getSections();e.push(t),a.setState({customSections:e}),a.closeModal()},a.handleChangeVoice=function(e){a.setState({voice:e.target.value})},a.kickToInvision=function(){a.pubnub.publish({message:"gotoinvision",channel:"default"},function(e,t){e.error?console.log(e):console.log(t)})},a.state={customSections:[],modalOpen:!1,voice:"en-US-Wavenet-E"},a.pubnub=new b.a({publishKey:"pub-c-35c0a342-eb63-440b-b688-89d8ced6f499",subscribeKey:"sub-c-634d2abe-28df-11e9-991a-bee2ac9fced0"}),a.pubnub.init(Object(h.a)(Object(h.a)(a))),a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=Q.concat(this.state.customSections);return o.a.createElement("div",{className:"container"},o.a.createElement(W.a,{className:"modal-container",open:this.state.modalOpen},o.a.createElement(T.a,{className:"paper-modal"},o.a.createElement("div",{className:"header"},o.a.createElement(A.a,{onClick:this.closeModal,className:"iconButton",variant:"contained",color:"primary"},o.a.createElement(J.b,null))),o.a.createElement(G,{ref:function(t){e.builder=t}}),o.a.createElement("div",{className:"modal-footer"},o.a.createElement(S.a,{onClick:this.saveSection,className:"footer-button",variant:"contained",color:"primary"},"Save")))),o.a.createElement(T.a,{className:"paper-container"},o.a.createElement("div",{className:"body"},o.a.createElement("div",{className:"inputs"},o.a.createElement("div",{className:"scrollable"},t.map(function(t,a){return o.a.createElement(V,{data:t,key:a,onSend:e.sendText})})),o.a.createElement(V,{data:["%input%"],onSend:this.sendText})),o.a.createElement("div",{className:"voice-box"},o.a.createElement(k.a,{component:"fieldset"},o.a.createElement(C.a,{component:"legend"},"Voice"),o.a.createElement(D.a,{name:"gender1",value:this.state.voice,onChange:this.handleChangeVoice},o.a.createElement(N.a,{value:"en-US-Wavenet-A",control:o.a.createElement(M.a,null),label:"Wavenet A (Male)"}),o.a.createElement(N.a,{value:"en-US-Wavenet-B",control:o.a.createElement(M.a,null),label:"Wavenet B (Male)"}),o.a.createElement(N.a,{value:"en-US-Wavenet-D",control:o.a.createElement(M.a,null),label:"Wavenet D (Male)"}),o.a.createElement(N.a,{value:"en-US-Wavenet-C",control:o.a.createElement(M.a,null),label:"Wavenet C (Female)"}),o.a.createElement(N.a,{value:"en-US-Wavenet-E",control:o.a.createElement(M.a,null),label:"Wavenet E (Female)"}),o.a.createElement(N.a,{value:"en-US-Wavenet-F",control:o.a.createElement(M.a,null),label:"Wavenet F (Female)"}))))),o.a.createElement("div",{className:"footer"},o.a.createElement("input",{type:"file",ref:function(t){return e.upload=t},style:{display:"none"},onChange:this.handleFileImport}),o.a.createElement(S.a,{onClick:this.import,className:"footer-button",variant:"contained",color:"primary"},"Import"),o.a.createElement(S.a,{onClick:this.export,className:"footer-button",variant:"contained",color:"primary"},"Export"),o.a.createElement(S.a,{onClick:this.openModal,className:"footer-button",variant:"contained",color:"primary"},"Add New..."),o.a.createElement(S.a,{onClick:this.kickToInvision,className:"footer-button",variant:"contained",color:"primary"},"Go To Invision"))))}}]),t}(n.Component),q=a(5541),z=a(57),X=a.n(z),Y=(a(5534),function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement("div",{className:"container"},o.a.createElement("h1",null,"Hi, what is your mood?"),o.a.createElement("div",{className:"fab-container"},o.a.createElement(X.a,{className:"startButton",component:q.a,to:"/client",color:"primary"},o.a.createElement(J.f,null)),o.a.createElement(X.a,{className:"startButton",component:q.a,to:"/client",color:"primary"},o.a.createElement(J.d,null)),o.a.createElement(X.a,{className:"startButton",component:q.a,to:"/client",color:"primary"},o.a.createElement(J.e,null)))),o.a.createElement("div",{className:"container"},o.a.createElement(q.a,{to:"/dashboard"},"Dashboard ",o.a.createElement("span",{role:"img","aria-label":"arrow"},"\u27a1\ufe0f"))))}}]),t}(n.Component)),Z=function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return o.a.createElement(d.a,{basename:"/puppet"},o.a.createElement("div",null,o.a.createElement(p.a,{exact:!0,path:"/",component:Y}),o.a.createElement(p.a,{path:"/dashboard",component:_}),o.a.createElement(p.a,{path:"/client",component:g})))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(5538);r.a.render(o.a.createElement(Z,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[5341,2,1]]]);
//# sourceMappingURL=main.f7ce8f04.chunk.js.map